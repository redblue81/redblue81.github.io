<!DOCTYPE html>

<html>

<head>

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Aggiornamento dello script relativo alla lavatrice smart | RedBlue’s Blog</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Aggiornamento dello script relativo alla lavatrice smart" />
<meta name="author" content="RedBlue" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In merito all’automazione di Home Assistant per ricevere una notifica tramite Alexa quando la lavatrice termina il lavaggio (qui la guida completa), c’è da fare un piccolo aggiornamento dello script, in quanto vari aggiornamenti di HA hanno leggermente modificato la situazione, e il vecchio script di fatto non funziona." />
<meta property="og:description" content="In merito all’automazione di Home Assistant per ricevere una notifica tramite Alexa quando la lavatrice termina il lavaggio (qui la guida completa), c’è da fare un piccolo aggiornamento dello script, in quanto vari aggiornamenti di HA hanno leggermente modificato la situazione, e il vecchio script di fatto non funziona." />
<link rel="canonical" href="https://red-blue.it/guide/domotica/sonoff/updated/2025/08/10/aggiornamento-script-lavatrice-smart.html" />
<meta property="og:url" content="https://red-blue.it/guide/domotica/sonoff/updated/2025/08/10/aggiornamento-script-lavatrice-smart.html" />
<meta property="og:site_name" content="RedBlue’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-08-10T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Aggiornamento dello script relativo alla lavatrice smart" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"RedBlue"},"dateModified":"2025-08-10T00:00:00+00:00","datePublished":"2025-08-10T00:00:00+00:00","description":"In merito all’automazione di Home Assistant per ricevere una notifica tramite Alexa quando la lavatrice termina il lavaggio (qui la guida completa), c’è da fare un piccolo aggiornamento dello script, in quanto vari aggiornamenti di HA hanno leggermente modificato la situazione, e il vecchio script di fatto non funziona.","headline":"Aggiornamento dello script relativo alla lavatrice smart","mainEntityOfPage":{"@type":"WebPage","@id":"https://red-blue.it/guide/domotica/sonoff/updated/2025/08/10/aggiornamento-script-lavatrice-smart.html"},"url":"https://red-blue.it/guide/domotica/sonoff/updated/2025/08/10/aggiornamento-script-lavatrice-smart.html"}</script>
<!-- End Jekyll SEO tag -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    Aggiornamento dello script relativo alla lavatrice smart - RedBlue&#39;s Blog
    
  </title>

  <meta name="description" content="In merito all’automazione di Home Assistant per ricevere una notifica tramite Alexa quando la lavatrice termina il lavaggio (qui la guida completa), c’è da f...">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://red-blue.it/guide/domotica/sonoff/updated/2025/08/10/aggiornamento-script-lavatrice-smart.html">
  <link rel="alternate" type="application/rss+xml" title="RedBlue&#39;s Blog" href="/feed.xml">

</head> 

<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">RedBlue&#39;s Blog</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
		    <li class="nav-item">
          <a class="nav-link" href="/domotica">Domotica</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contacts</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <!-- Page Header -->

<header class="masthead" style="background-image: url('/assets/images/smart-home-3096219_1920-768x512.jpg')">
  
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>Aggiornamento dello script relativo alla lavatrice smart</h1>
            
            <span class="meta">Posted by
              <a href="#">RedBlue</a>
              on August 10, 2025 &middot; <span class="reading-time" title="Estimated read time">
  
   1 min  read </span>

            </span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">

        <p>In merito all’automazione di <strong>Home Assistant</strong> per ricevere una notifica tramite Alexa quando la lavatrice termina il lavaggio (<a href="https://red-blue.it/guide/domotica/sonoff/2024/08/26/ho-reso-smart-la-mia-lavatrice.html" target="_blank">qui la guida completa</a>), c’è da fare un piccolo <strong>aggiornamento</strong> dello script, in quanto vari aggiornamenti di HA hanno leggermente modificato la situazione, e il vecchio script di fatto non funziona.</p>

<p>Adesso le automazione vanno tutte in <em>automations.yaml</em>, quindi il file all’interno della directory <em>packages</em> conterrà di fatto solo l’input_boolean:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">########################################################</span>
<span class="c">################INPUT_BOOLEAN############################</span>
<span class="c">########################################################</span>
input_boolean:
  lavatrice_switch:
    name: stato del lavaggio
    initial: off
    icon: mdi:washing-machine</code></pre></figure>

<p>Mentre in automations.yaml (potete anche scegliere di aggiungerle da interfaccia grafica di HA, cosa che ad esempio ho fatto io, per poi modificare quello che mi serviva):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">id</span>: <span class="s1">'1731346166999'</span>
  <span class="nb">alias</span>: Lavatrice fine switch state
  description: <span class="s1">''</span>
  trigger:
  - entity_id: sensor.lavatrice_power
    platform: numeric_state
    below: <span class="s1">'5.0'</span>
    <span class="k">for</span>:
      minutes: 1
  condition:
  - condition: state
    entity_id: input_boolean.lavatrice_switch
    state: <span class="s1">'on'</span>
  action:
  - entity_id: input_boolean.lavatrice_switch
    action: input_boolean.turn_off
  mode: single
- <span class="nb">id</span>: <span class="s1">'1731346431244'</span>
  <span class="nb">alias</span>: Lavatrice Finito
  description: <span class="s1">''</span>
  triggers:
  - entity_id: input_boolean.lavatrice_switch
    to: <span class="s1">'off'</span>
    trigger: state
  conditions: <span class="o">[]</span>
  actions:
  - action: notify.alexa_media
    metadata: <span class="o">{}</span>
    data:
      message: La lavatrice ha terminato il lavaggio. Ricordati di stendere il bucato
      target: media_player.nome_disposivo_alexa
      data:
        <span class="nb">type</span>: announce
  mode: single
- <span class="nb">id</span>: <span class="s1">'1731346443168'</span>
  <span class="nb">alias</span>: lavatrice on
  description: <span class="s1">''</span>
  trigger:
  - entity_id: sensor.lavatrice_power
    platform: numeric_state
    above: <span class="s1">'50.0'</span>
    <span class="k">for</span>:
      minutes: 1
  condition: <span class="o">[]</span>
  action:
  - entity_id: input_boolean.lavatrice_switch
    action: input_boolean.turn_on
  mode: single
  </code></pre></figure>

<p>L’automazione tornerà a funzionare regolarmente.</p>

<p>Stay tuned..</p>


        <hr>

        <div class="clearfix">

          
          <a class="btn btn-primary float-left" href="/guide/domotica/sonoff/2024/09/22/soluzione-RPC-failed-curl-92-HTTP-2-stream-0-was-not-closed-cleanly-CANCEL-err-8.html" data-toggle="tooltip" data-placement="top" title="Soluzione errore RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly CANCEL (err 8)">&larr; Previous<span class="d-none d-md-inline">
              Post</span></a>
          
          
          <a class="btn btn-primary float-right" href="/recensioni/domotica/sonoff/2025/11/03/domotizzare-le-luci-di-casa-con-sonoff-mini-r4-extreme-e-dual-r3.html" data-toggle="tooltip" data-placement="top" title="Domotizzare le luci di casa con Sonoff Mini R4 Extreme e Dual R3">Next<span class="d-none d-md-inline">
              Post</span> &rarr;</a>
          

        </div>

      </div>
    </div>
  </div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:redblue81@gmail.com">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://twitter.com/redblue81">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://www.facebook.com/angeloredbluepascadopoli">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://www.linkedin.com/in/angelopascadopoli">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://github.com/redblue81">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://instagram.com/redblue81">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; RedBlue 2025</p>
      </div>
    </div>
  </div>
</footer>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LVMQV0LE9M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LVMQV0LE9M');
</script>

</body>

</html>